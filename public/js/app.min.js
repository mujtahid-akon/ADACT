var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");$(document).ready(function(){$(window).load(function(){$(".pre-loader").fadeOut("slow").promise()})});
function ProgressBar(a,b,c,d){this.selector=a;this.max_value=b;this.init_value=c;this.value=function(a){if(null===this.selector)return!1;this.selector.val(a);return!0};this.increment=function(a){if(null===this.selector)return!1;this.selector.val(this.selector.val()+(a||1));return!0};a=d||" ";this.max_value?(this.selector.html(a+'<progress max="'+this.max_value+'" value="'+this.init_value+'" style="width: 100%" />'),this.selector=this.selector.children().eq(d?1:0)):(this.selector.html(a+'<progress style="width: 100%" />'),
this.selector=null)}var Messages;
Object.freeze(Messages={ShortName:{CHAR_CONSTRAINT:"Short names must contain a to z (uppercase or lower case) letters, underscores, hyphens or commas.",CHAR_LIMIT_EXCEEDED:function(a){return"Short names can contain at most "+a+" characters!"},UNFILLED_FIELDS:"You must fill all the short names!",DUPLICATE_ENTRIES:"There are duplicate values. You must set unique short names!"},InputAnalyzer:{ANALYZING_TEXT:"Analyzing...",UPLOADING_TEXT:"Uploading...",PostProcess:{MIXED_INPUTS:"It looks like you are trying to use nucleotides & proteins at the same time. Please use only nucleotide or only proteins.",INVALID_INPUTS:function(a){return(1<
a.length?"These Accession/GI numbers appear to be invalid: ":"This Accession/GI number appears to be invalid: ")+a.join(", ")}},Upload:{UPLOAD_NEW_TEXT:"Upload a new file",SUCCESS_TEXT:"Upload success!",SUCCESS_MESSAGE:"The file was uploaded successfully.",FAILURE_ALERT:"Upload failed!",CONNECTION_PROBLEM:"Please try again. There may be connection problem.",MAKE_SURE:"Make sure,",FAILURE_MESSAGE:function(a){return["The text/zip file is valid and in the right format","In case of zip file, the size must be less than 100 MB",
"The size of each sequence is less than 20 MB","There cannot be more than "+a+" sequence in a zip/text file"]}},Upload_text:{FAILURE_ALERT:"Analyzing failed! Please try again.",CONNECTION_PROBLEM:"Please try again. There may be connection problem.",MAKE_SURE:"Make sure,",FAILURE_MESSAGE:function(a){return["The size of each sequence is less than 20 MB","There cannot be more than "+a+" sequence"]}},BuildTable:{SEQ_FOUND:function(a){return"Found: "+a+" FASTA Sequences"},SHORT_NAME_MESSAGE:"Add short names using the table below: (A short name can only contain a to z (uppercase or lower case) letters, underscores, hyphens or commas)",
SHORT_NAME_MESSAGE2:'Double click on each title/header to copy them to the Short Name field, or <a class="link" href="javascript:InputAnalyzer.copyAllShortNames();">copy them all</a>. Note that a short name cannot be longer than 15 characters.',ID_TEXT:"ID",HEADER_TEXT:"Title/Header",SHORT_NAME_TEXT:"Short Name"}},Project:{UNFILLED_FIELDS:"It seems, you've left out some mandatory fields. Please fill them in.",LOADING_TEXT:"Loading",FAILURE_ALERT:"An error occurred, try again",Status:{FETCH_TEXT:"Fetching last status...",
FAILURE_ALERT:"Something's wrong with your project. Please try again.",FAILURE_TEXT:"Error fetching last status. Trying again..."},Cancel:{CANCEL_MESSAGE:function(a){return"Are you sure want to cancel "+a+"?"},SUCCESS_MESSAGE:"Project has been cancelled successfully! If you're editing the project, we'll try to keep the previous results if possible.",FAILURE_MESSAGE:"Couldn't cancel the project, it may have already been processed, or it doesn't exists or may have already been cancelled."},Delete:{DELETE_MESSAGE:function(a){return"Are you sure want to delete "+
a+"?"},FAILURE_MESSAGE:"Couldn't delete the project, it doesn't exists or may have already been deleted."},Notification:{FETCH_TEXT:"Fetching notifications...",NO_NOTIFICATION:"No new notification.",CONNECTION_PROBLEM:"Connection problem!"}},FAILURE_ALERT:"Failed!",CONNECTION_PROBLEM:"Please try again. There may be connection problem."});
var InputMethod={FILE:"file",SEQ_TEXT:"seq_text",ACCN_GIN:"accn_gin",current:null,setCurrent:function(a){$(".fasta_method").hide();$("#fasta_status").hide();$("#"+a).show();switch(a){case "upload_file":this.current=this.FILE;break;case "input_accn_gin":this.current=this.ACCN_GIN;break;case "input_seq":this.current=this.SEQ_TEXT}},getCurrent:function(){return this.current}},InputAnalyzer={GIN:"gin",ACCN:"accn",NUCLEOTIDE:"nucleotide",PROTEIN:"protein",DB_NUCCORE:"nuccore",DB_PROTEIN:"protein",CHAR_LIMIT:15,
FASTA_LIMIT:120,inputs:[],selector:null,progress:null,results:[],file_id:null,done:!1,_handled:1,_two_req:!1,init:function(a){var b=this;this.selector=$("#fasta_status");this.selector.html("");this.selector.show();if(InputMethod.getCurrent()===InputMethod.ACCN_GIN){this.inputs=$("#accn_gin").val();this.inputs=this.inputs.split(/\s*,\s*/);this.results=[];this.progress=new ProgressBar(this.selector,this.inputs.length,0,Messages.InputAnalyzer.ANALYZING_TEXT);this._handled=1;this._two_req=!1;a=this.inputs.length;
var c=0,d=this.inputs[c++],e=/^[\d]+$/.test(d)?b.GIN:b.ACCN;for(d=b.getMetaData(d,e);c<a;c++)d=d.then(function(a){return function(){var c=/^[\d]+$/.test(a)?b.GIN:b.ACCN;return b.getMetaData(a,c)}}(this.inputs[c]))}else InputMethod.getCurrent()===InputMethod.FILE?this.upload(a):InputMethod.getCurrent()===InputMethod.SEQ_TEXT&&this.upload_text()},addShortNames:function(){for(var a=this.results.length,b=0,c=this,d=0;d<a;++d)this.results[d].short_name=$("#sn_"+d).val();for(d=0;d<a;++d){var e=$("#sn_"+
d).val();this.results[d].short_name=e;if(!e){b=2;break}if(e.length>this.CHAR_LIMIT){b=1;break}if(!/^[\w,-]+$/.test(e)){b=4;break}}0<function(a){var b=0,c=[];return a.filter(function(d){return!c[d]*~a.indexOf(d,c[d]=++b)})}(function(){for(var a=[],b=0;b<c.results.length;++b)null!==c.results[b].short_name&&a.push(c.results[b].short_name);return a}()).length&&(b=3);switch(b){case 4:alert(Messages.ShortName.CHAR_CONSTRAINT);break;case 1:alert(Messages.ShortName.CHAR_LIMIT_EXCEEDED(this.CHAR_LIMIT));break;
case 2:alert(Messages.ShortName.UNFILLED_FIELDS);break;case 3:alert(Messages.ShortName.DUPLICATE_ENTRIES);break;default:this.done=!0;b=$("#fasta_check_out");b.attr("disabled","");b.removeClass("btn-primary");b.addClass("btn-default");switch(InputMethod.getCurrent()){case InputMethod.FILE:b=$("#upload_new");break;case InputMethod.ACCN_GIN:b=$("#analyze_accn_gin");break;case InputMethod.SEQ_TEXT:b=$("#analyze_seq_text")}b.attr("disabled","");b.removeClass("btn-primary");b.addClass("btn-default");for(b=
0;b<a;++b)$("#sn_"+b).parent().html(this.results[b].short_name)}},getMetaData:function(a,b){function c(a,b){if(b.result&&b.result.uids){var c=b.result.uids;1===c.length&&(g.gin=c[0],g.title=b.result[c].title,g.type=a===e.DB_NUCCORE?e.NUCLEOTIDE:e.PROTEIN,g.short_name=b.result[c].organism)}}function d(){e.results.push(g);e.progress.increment();if(e.inputs.length===e.results.length){var a=e.results.length;if(!(0>=a)){for(var b=e.results[0].type,c=[],d=0;d<a;++d)if(null===e.results[d].type)c.push(e.results[d].id);
else if(e.results[d].type!==b){alert(Messages.InputAnalyzer.PostProcess.MIXED_INPUTS);e.selector.hide();return}0<c.length?(alert(Messages.InputAnalyzer.PostProcess.INVALID_INPUTS(c)),e.selector.hide()):(b===e.PROTEIN?($(".seq_type[value=protein]").prop("checked",!0),$("#inversion_box").hide(),$(".active.dis_gcc").hide(),$(".seq_type").prop("disabled",!0)):b===e.NUCLEOTIDE&&($(".seq_type[value=nucleotide]").prop("checked",!0),$("#inversion_box").show(),$(".active.dis_gcc").show(),$(".seq_type").prop("disabled",
!0)),e.buildTable())}}}var e=this,f=$.Deferred(),g={id:a,id_type:b,title:null,type:null,gin:null,short_name:null};setTimeout(function(){e._two_req=!1;e.renderer(e.DB_NUCCORE,a,function(b,h){c(e.DB_NUCCORE,h);null===g.gin?(e._two_req=!0,e.renderer(e.DB_PROTEIN,a,function(a,b){c(e.DB_PROTEIN,b);d();f.resolve()})):(d(),f.resolve())})},e._two_req||0===e._handled%3?3E3:0);return f},renderer:function(a,b,c){var d=this;$.ajax({method:"get",url:"https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi",
data:"db="+a+"&id="+b+"&retmode=json",cache:!1,dataType:"json",success:function(b){c(a,b)},error:function(){d.selector.html('<div class="alert alert-danger"><strong>'+Messages.FAILURE_ALERT+"</strong> "+Messages.CONNECTION_PROBLEM+"</div>")}}).done(function(){++d._handled})},upload:function(a){var b=$("#filef_status");b.show();var c=this;$.ajax({url:"./projects/file_upload",type:"POST",data:new FormData(a),contentType:!1,cache:!1,processData:!1,dataType:"JSON",beforeSend:function(){new ProgressBar(b,
void 0,void 0,Messages.InputAnalyzer.UPLOADING_TEXT)},success:function(a){switch(a.status){case 0:$("#upload_file").hide();b.html('<div class="alert alert-success"><strong>'+Messages.InputAnalyzer.Upload.SUCCESS_TEXT+"</strong> "+Messages.InputAnalyzer.Upload.SUCCESS_MESSAGE+"</div><div class=\"btn-4 button small gray\" id=\"upload_new\" onclick=\"$('#filef_status').hide();$('#upload_file').show();$('#method').removeAttr('disabled');\">"+Messages.InputAnalyzer.Upload.UPLOAD_NEW_TEXT+"</div>");var d=
a.data;c.file_id=a.id;c.results=[];for(var f=0;f<d.length;++f)c.results.push({id:d[f].id,id_type:"file",title:d[f].header,short_name:null,type:InputMethod.FILE,gin:null});a.seq_type===c.PROTEIN?($(".seq_type[value=protein]").prop("checked",!0),$("#inversion_box").hide(),$(".active.dis_gcc").hide()):a.seq_type===c.NUCLEOTIDE&&($(".seq_type[value=nucleotide]").prop("checked",!0),$("#inversion_box").show(),$(".active.dis_gcc").show());c.buildTable();break;default:b.html('<div class="alert alert-danger"><strong>'+
Messages.InputAnalyzer.Upload.FAILURE_ALERT+"</strong> "+Messages.InputAnalyzer.Upload.MAKE_SURE+"<br /><ul><li>"+Messages.InputAnalyzer.Upload.FAILURE_MESSAGE(c.FASTA_LIMIT).join("</li><li>")+"</li></ul></div>")}$("#filef").val("")},error:function(){b.html('<div class="alert alert-danger"><strong>'+Messages.InputAnalyzer.Upload.FAILURE_ALERT+"</strong> "+Messages.InputAnalyzer.Upload.CONNECTION_PROBLEM+"</div>");$("#filef").val("")}})},upload_text:function(){var a=$("#fasta_status");a.show();var b=
this;$.ajax({url:"./projects/text_upload",type:"POST",data:{seq_text:$("#seq_text").val()},cache:!1,dataType:"JSON",beforeSend:function(){new ProgressBar(a,void 0,void 0,Messages.InputAnalyzer.ANALYZING_TEXT)},success:function(c){switch(c.status){case 0:var d=c.data;b.file_id=c.id;b.results=[];for(var e=0;e<d.length;++e)b.results.push({id:d[e].id,id_type:"file",title:d[e].header,short_name:null,type:InputMethod.FILE,gin:null});c.seq_type===b.PROTEIN?($(".seq_type[value=protein]").prop("checked",!0),
$("#inversion_box").hide(),$(".active.dis_gcc").hide()):c.seq_type===b.NUCLEOTIDE&&($(".seq_type[value=nucleotide]").prop("checked",!0),$("#inversion_box").show(),$(".active.dis_gcc").show());b.buildTable();break;default:a.html('<div class="alert alert-danger"><strong>'+Messages.InputAnalyzer.Upload_text.FAILURE_ALERT+"</strong> "+Messages.InputAnalyzer.Upload_text.MAKE_SURE+"<br /><ul><li>"+Messages.InputAnalyzer.Upload_text.FAILURE_MESSAGE(b.FASTA_LIMIT).join("</li><li>")+"</li></ul></div>")}},
error:function(){a.html('<div class="alert alert-danger"><strong>'+Messages.InputAnalyzer.Upload_text.FAILURE_ALERT+"</strong> "+Messages.InputAnalyzer.Upload_text.CONNECTION_PROBLEM+"</div>")}})},buildTable:function(){for(var a=this.results.length,b="<p class='text-success'>"+Messages.InputAnalyzer.BuildTable.SEQ_FOUND(a)+"</p><p>"+Messages.InputAnalyzer.BuildTable.SHORT_NAME_MESSAGE+"</p><p>"+Messages.InputAnalyzer.BuildTable.SHORT_NAME_MESSAGE2+"</p><table id='table_short_names' class='table table-bordered table-striped table-hover'><thead><tr><th>"+
Messages.InputAnalyzer.BuildTable.ID_TEXT+"</th><th>"+Messages.InputAnalyzer.BuildTable.HEADER_TEXT+"</th><th>"+Messages.InputAnalyzer.BuildTable.SHORT_NAME_TEXT+"</th></tr></thead>",c=0;c<a;++c)b+="<tr><td>"+(InputMethod.getCurrent()===InputMethod.ACCN_GIN?this.results[c].id:c+1)+"</td><td ondblclick='InputAnalyzer.copyToShortNameField($(this))'>"+this.results[c].title+"</td><td> <input id='sn_"+c+"' class='short_name form-control' value='"+(InputMethod.getCurrent()===InputMethod.ACCN_GIN?this.getShortName(this.results[c]):
c+1)+"'  style='min-width: 155px;' /></td></tr>";this.selector.html(b+"</table>")},getShortName:function(a){if(null===a.short_name)return"";a=a.short_name;if(a.length>this.CHAR_LIMIT){var b=a.split(" ");if(b[0].length>this.CHAR_LIMIT)return b[0].substring(0,this.CHAR_LIMIT);a=[];var c=0;b=$jscomp.makeIterator(b);for(var d=b.next();!d.done;d=b.next())d=d.value,c+=d.length,c<=this.CHAR_LIMIT&&a.push(d);return a.join("_")}return a.replace(/\s/g,"_")},copyToShortNameField:function(a){a.parents().get(0).children[2].children[0].value=
a.text().replace(/\s/g,"_")},copyAllShortNames:function(){for(var a=$("#table_short_names").children().get(1).children,b=0;b<a.length;++b)a[b].children[2].children[0].value=a[b].children[1].textContent.replace(/\s/g,"_")}},Project={result:{MAW:"maw",RAW:"raw",submit_btn:null,config:{},project_id:null,btn_msg_pre:null,prepare:function(){this.config={project_name:$("#project_name").val(),aw_type:$("input[name='aw_type'][value='raw']").is(":checked")?this.RAW:this.MAW,kmer:{min:parseInt($("#kmer_min").val()),
max:parseInt($("#kmer_max").val())},inversion:$("#inversion").is(":checked"),dissimilarity_index:$("#dissimilarity_index").val(),sequence_type:$("input[name='seq_type'][value='protein']").is(":checked")?InputAnalyzer.PROTEIN:InputAnalyzer.NUCLEOTIDE,data:[],type:InputMethod.getCurrent()===InputMethod.ACCN_GIN?InputMethod.ACCN_GIN:InputMethod.FILE};return InputMethod.getCurrent()!==InputMethod.ACCN_GIN&&(this.config.file_id=InputAnalyzer.file_id,null===this.config.file_id)?!1:this.config.project_name&&
0<=this.config.kmer.min<=this.config.kmer.max&&this.config.dissimilarity_index},verify:function(){if(this.prepare()){InputAnalyzer.addShortNames();if(!InputAnalyzer.done)return alert(Messages.Project.UNFILLED_FIELDS),!1;this.config.data=InputAnalyzer.results}else return alert(Messages.Project.UNFILLED_FIELDS),!1;return!0},send:function(){if(!this.verify())return!1;this.submit_btn=$("#p_btn");var a=this;$.ajax({method:"post",url:"./projects/new",data:{config:JSON.stringify(this.config)},cache:!1,dataType:"json",
beforeSend:function(){var b=a.submit_btn;b.removeClass("btn-primary");b.addClass("btn-default disabled");b.attr("onclick",null);this.btn_msg_pre=b.html();b.html('<i class="fa fa-spinner fa-pulse" aria-hidden="true"></i> '+Messages.Project.LOADING_TEXT)},success:function(b){b&&b.id?(a.project_id=b.id,b=$('<form action="./projects/'+b.id+'" method="get"></form>'),$("body").append(b),b.submit()):a.restore()},error:function(){a.restore()}})},restore:function(){alert(Messages.Project.FAILURE_ALERT);var a=
this.submit_btn;a.removeClass("btn-default disabled");a.addClass("btn-primary");a.attr("onclick","Project.result.send()");a.html(this.btn_msg_pre)}},process:{status:function(a,b){$.ajax({method:"post",url:"./projects/get_status",data:{project_id:b},cache:!1,dataType:"json",beforeSend:function(){},success:function(b){a.html(b.status);switch(b.status_code){case 0:window.location.reload();break;case 1:alert(Messages.Project.Status.FAILURE_ALERT),window.location.assign("./projects")}},error:function(){a.html(Messages.CONNECTION_PROBLEM)}})},
cancel:function(a,b){$.ajax({method:"post",url:"./projects/cancel_process",data:{project_id:a},cache:!1,dataType:"json",beforeSend:function(){return confirm(Messages.Project.Cancel.CANCEL_MESSAGE(b))},success:function(a){switch(a.status){case 0:alert(Messages.Project.Cancel.SUCCESS_MESSAGE);window.location.assign("./projects");break;default:alert(Messages.Project.Cancel.FAILURE_MESSAGE)}},error:function(){alert(Messages.CONNECTION_PROBLEM)}})}},delete:function(a,b,c){$.ajax({method:"post",url:"./projects/"+
a+"/delete",cache:!1,dataType:"json",beforeSend:function(){return confirm(Messages.Project.Delete.DELETE_MESSAGE(b))},success:function(b){switch(b.status){case 0:c&&window.location.assign("./projects");$("#p_"+a).remove();break;default:alert(Messages.Project.Delete.FAILURE_MESSAGE)}},error:function(){alert(Messages.CONNECTION_PROBLEM)}})},edit:{MAW:"maw",RAW:"raw",info:{},submit_btn:null,collect:function(){this.info={aw_type:$("input[name='aw_type'][value='raw']").is(":checked")?this.RAW:this.MAW,
kmer:{min:parseInt($("#kmer_min").val()),max:parseInt($("#kmer_max").val())},inversion:$("#inversion").is(":checked"),dissimilarity_index:$("#dissimilarity_index").val()}},send:function(a){this.collect();this.submit_btn=$("#submit_btn");var b=this;$.ajax({method:"post",url:"./projects/"+a+"/edit",data:{config:JSON.stringify(this.info)},cache:!1,dataType:"json",beforeSend:function(){var a=b.submit_btn;a.removeClass("btn-primary");a.addClass("btn-default disabled");a.attr("onclick",null);a.html('<i class="fa fa-spinner fa-pulse" aria-hidden="true"></i> '+
Messages.Project.LOADING_TEXT)},success:function(c){c&&0===c.status?(b.project_id=c.id,c=$('<form action="./projects/'+a+'" method="get"></form>'),$("body").append(c),c.submit()):b.restore()},error:function(){b.restore()}})},restore:function(){alert(Messages.Project.FAILURE_ALERT);var a=this.submit_btn;a.removeClass("btn-default disabled");a.addClass("btn-primary");a.attr("onclick","Project.edit.send(<?php print $project_id ?>)");a.html("Run & Show Result")}},notification_handler:function(){var a=
$("#notification_bar"),b=$(".dropdown.notification-bar"),c=$(".notification-count"),d=$("#nav-side-header").find(".dev-sm-header.notification-count").eq(0),e=$(".nav-side").find(".dev-sm-navbar.notification-count").eq(0),f=$(".nav-side .navbar-nav").find(".dev-md-navbar.notification-count").eq(0);$.ajax({method:"post",url:"./projects/get_unseen",cache:!1,dataType:"json",beforeSend:function(){a.html('<li style="padding: 5px 10px"><em>'+Messages.Project.Notification.FETCH_TEXT+"</em></li>");return!0},
success:function(g){if(g.projects&&0<g.projects.length){var k=[],h=g.projects.length;c.text(h);f.addClass("unread-count");d.fadeIn(500);b.show();e.text(h+" notification"+(1===h?"":"s"));g=$jscomp.makeIterator(g.projects);for(h=g.next();!h.done;h=g.next())h=h.value,k.push("<li><a href='./projects/"+h.id+"'><span class='space-after small'>view project#"+h.id+"</span><span class='space-after'>"+h.name+"</span></a></li>");a.html(k.join("<li class='divider'></li>"))}else b.hide(),c.text(""),f.removeClass("unread-count"),
d.fadeOut(500),a.html('<li style="padding: 5px 10px"><em>'+Messages.Project.Notification.NO_NOTIFICATION+"</em></li>")},error:function(){a.html('<li style="padding: 5px 10px"><em>'+Messages.Project.Notification.CONNECTION_PROBLEM+"</em></li>")}})}};function elapsed_time(a,b){b=(new Date).getTime()-b;a.html(Math.floor(b/864E5)+"d "+Math.floor(b%864E5/36E5)+"h "+Math.floor(b%36E5/6E4)+"m "+Math.floor(b%6E4/1E3)+"s ")}
function show_formatted_date(a,b){var c=b%60,d=Math.floor(b/60)%60,e=Math.floor(b/3600)%24;b=Math.floor(b/86400);a.html(0!==b?b+"d "+e+"h "+d+"m "+c+"s":0!==e?e+"h "+d+"m "+c+"s":0!==d?d+"m "+c+"s":c+" seconds")};
